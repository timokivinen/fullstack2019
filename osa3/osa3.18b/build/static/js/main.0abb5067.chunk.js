(window["webpackJsonposa3.18f"]=window["webpackJsonposa3.18f"]||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(13),o=n.n(u),l=n(2),c=function(e){var t=e.value,n=e.handleChange;return r.a.createElement("div",null,"Rajaa n\xe4ytett\xe4vi\xe4:",r.a.createElement("input",{value:t,onChange:n}))},s=n(3),i=n.n(s),m="http://localhost:3001/api/persons",f=function(){return i.a.get(m).then(function(e){return e.data})},E=function(e){return i.a.post(m,e).then(function(e){return e.data})},d=function(e){return i.a.delete("".concat(m,"/").concat(e)).then(function(e){return e.data})},p=function(e){e.name;return console.log("*** Person --1 ".concat(e.name)),e.name.toUpperCase().startsWith(e.filter.toUpperCase())||""===e.filter?r.a.createElement("div",null,e.name,"\xa0\xa0",e.number," \xa0\xa0",r.a.createElement("button",{onClick:function(t){return function(e){e.id;var t=d(e.id);console.log("***respData: ",t),e.setErrorMessage("Henkil\xf6  '".concat(e.name,"' on poistettu.")),setTimeout(function(){e.setErrorMessage(null)},3e3),e.setPersons(e.persons.filter(function(t){return t.id!==e.id}))}(e)}},"Delete")):""},v=function(e){var t=e.persons,n=e.setPersons,a=e.newFilter;return t.map(function(u){return r.a.createElement(p,{name:u.name,number:u.number,id:u.id,filter:a,persons:t,setPersons:n,deletePerson:e.deletePerson,setErrorMessage:e.setErrorMessage})})},h=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"error"},t)},b=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),u=n[0],o=n[1],s=Object(a.useState)("qwerty"),i=Object(l.a)(s,2),m=i[0],d=i[1],p=Object(a.useState)("1234567890"),b=Object(l.a)(p,2),g=b[0],j=b[1],O=Object(a.useState)(""),P=Object(l.a)(O,2),w=P[0],C=P[1],S=Object(a.useState)(""),y=Object(l.a)(S,2),k=y[0],M=y[1];Object(a.useEffect)(function(){f().then(function(e){console.log("---------------------initialPersons"),o(e)})},[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(h,{message:k}),r.a.createElement("div",null,r.a.createElement(c,{value:w,handleChange:function(e){C(e.target.value)}})),r.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E({name:m,number:g}).then(function(e){f().then(function(e){o(e)})}).catch(function(e){return M("Lis\xe4ys ep\xe4onnistui. ".concat(e))}),M("uusi henkil\xf6 lis\xe4tty/muutettu."),setTimeout(function(){M(null)},3e3)}},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:m,onChange:function(e){d(e.target.value)}})),r.a.createElement("div",null,"numero:",r.a.createElement("input",{value:g,onChange:function(e){j(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))),r.a.createElement("h2",null,"Numerot"),r.a.createElement(v,{persons:u,newFilter:w,setPersons:o,setErrorMessage:M,deletePerson:function(e){console.log("DELETEPERSON:",e)}}))};n(36);o.a.render(r.a.createElement(b,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.0abb5067.chunk.js.map